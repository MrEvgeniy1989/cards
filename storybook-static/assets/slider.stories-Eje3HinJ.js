import{j as y}from"./jsx-runtime-DzgN-JE8.js";import{r as a}from"./index-CO9pbFv1.js";import{_ as E}from"./extends-CCbyfPlC.js";import{$ as re}from"./index-BEk9yI-S.js";import{a as be,b as V,c as ge,e as M,$ as H,h as xe}from"./index-BdoMW9Dj.js";import{$ as we,a as _e}from"./index-BmOxlfpJ.js";import{$ as ve}from"./index-iWjfmL1M.js";import{c as ye}from"./clsx-B-dksMZM.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BT32HCm8.js";const ae=["PageUp","PageDown"],se=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ie={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[L,Ee,De]=we(B),[ce,lt]=be(B,[De]),[Pe,z]=ce(B),Re=a.forwardRef((t,n)=>{const{name:o,min:e=0,max:i=100,step:r=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:$=[e],value:S,onValueChange:s=()=>{},onValueCommit:d=()=>{},inverted:w=!1,...b}=t,[p,h]=a.useState(null),_=V(n,m=>h(m)),R=a.useRef(new Set),f=a.useRef(0),v=l==="horizontal",K=p?!!p.closest("form"):!0,U=v?Ce:Me,[g=[],$e]=ge({prop:S,defaultProp:$,onChange:m=>{var x;(x=[...R.current][f.current])===null||x===void 0||x.focus(),s(m)}}),Y=a.useRef(g);function pe(m){const x=je(g,m);I(m,x)}function Se(m){I(m,f.current)}function he(){const m=Y.current[f.current];g[f.current]!==m&&d(g)}function I(m,x,{commit:N}={commit:!1}){const X=Le(r),O=Fe(Math.round((m-e)/r)*r+e,X),A=re(O,[e,i]);$e((C=[])=>{const P=Ne(C,A,x);if(Oe(P,u*r)){f.current=P.indexOf(A);const q=String(P)!==String(C);return q&&N&&d(P),q?P:C}else return C})}return a.createElement(Pe,{scope:t.__scopeSlider,disabled:c,min:e,max:i,valueIndexToChangeRef:f,thumbs:R.current,values:g,orientation:l},a.createElement(L.Provider,{scope:t.__scopeSlider},a.createElement(L.Slot,{scope:t.__scopeSlider},a.createElement(U,E({"aria-disabled":c,"data-disabled":c?"":void 0},b,{ref:_,onPointerDown:M(b.onPointerDown,()=>{c||(Y.current=g)}),min:e,max:i,inverted:w,onSlideStart:c?void 0:pe,onSlideMove:c?void 0:Se,onSlideEnd:c?void 0:he,onHomeKeyDown:()=>!c&&I(e,0,{commit:!0}),onEndKeyDown:()=>!c&&I(i,g.length-1,{commit:!0}),onStepKeyDown:({event:m,direction:x})=>{if(!c){const O=ae.includes(m.key)||m.shiftKey&&se.includes(m.key)?10:1,A=f.current,C=g[A],P=r*O*x;I(C+P,A,{commit:!0})}}})))),K&&g.map((m,x)=>a.createElement(Be,{key:x,name:o?o+(g.length>1?"[]":""):void 0,value:m})))}),[le,de]=ce(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ce=a.forwardRef((t,n)=>{const{min:o,max:e,dir:i,inverted:r,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:$,...S}=t,[s,d]=a.useState(null),w=V(n,f=>d(f)),b=a.useRef(),p=_e(i),h=p==="ltr",_=h&&!r||!h&&r;function R(f){const v=b.current||s.getBoundingClientRect(),K=[0,v.width],g=F(K,_?[o,e]:[e,o]);return b.current=v,g(f-v.left)}return a.createElement(le,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width"},a.createElement(fe,E({dir:p,"data-orientation":"horizontal"},S,{ref:w,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const v=R(f.clientX);l==null||l(v)},onSlideMove:f=>{const v=R(f.clientX);c==null||c(v)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:f=>{const K=ie[_?"from-left":"from-right"].includes(f.key);$==null||$({event:f,direction:K?-1:1})}})))}),Me=a.forwardRef((t,n)=>{const{min:o,max:e,inverted:i,onSlideStart:r,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...$}=t,S=a.useRef(null),s=V(n,S),d=a.useRef(),w=!i;function b(p){const h=d.current||S.current.getBoundingClientRect(),_=[0,h.height],f=F(_,w?[e,o]:[o,e]);return d.current=h,f(p-h.top)}return a.createElement(le,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1},a.createElement(fe,E({"data-orientation":"vertical"},$,{ref:s,style:{...$.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const h=b(p.clientY);r==null||r(h)},onSlideMove:p=>{const h=b(p.clientY);l==null||l(h)},onSlideEnd:()=>{d.current=void 0,c==null||c()},onStepKeyDown:p=>{const _=ie[w?"from-bottom":"from-top"].includes(p.key);u==null||u({event:p,direction:_?-1:1})}})))}),fe=a.forwardRef((t,n)=>{const{__scopeSlider:o,onSlideStart:e,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...$}=t,S=z(B,o);return a.createElement(H.span,E({},$,{ref:n,onKeyDown:M(t.onKeyDown,s=>{s.key==="Home"?(l(s),s.preventDefault()):s.key==="End"?(c(s),s.preventDefault()):ae.concat(se).includes(s.key)&&(u(s),s.preventDefault())}),onPointerDown:M(t.onPointerDown,s=>{const d=s.target;d.setPointerCapture(s.pointerId),s.preventDefault(),S.thumbs.has(d)?d.focus():e(s)}),onPointerMove:M(t.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:M(t.onPointerUp,s=>{const d=s.target;d.hasPointerCapture(s.pointerId)&&(d.releasePointerCapture(s.pointerId),r(s))})}))}),Ve="SliderTrack",Ke=a.forwardRef((t,n)=>{const{__scopeSlider:o,...e}=t,i=z(Ve,o);return a.createElement(H.span,E({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},e,{ref:n}))}),G="SliderRange",Ie=a.forwardRef((t,n)=>{const{__scopeSlider:o,...e}=t,i=z(G,o),r=de(G,o),l=a.useRef(null),c=V(n,l),u=i.values.length,$=i.values.map(d=>ue(d,i.min,i.max)),S=u>1?Math.min(...$):0,s=100-Math.max(...$);return a.createElement(H.span,E({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},e,{ref:c,style:{...t.style,[r.startEdge]:S+"%",[r.endEdge]:s+"%"}}))}),W="SliderThumb",Ae=a.forwardRef((t,n)=>{const o=Ee(t.__scopeSlider),[e,i]=a.useState(null),r=V(n,c=>i(c)),l=a.useMemo(()=>e?o().findIndex(c=>c.ref.current===e):-1,[o,e]);return a.createElement(ke,E({},t,{ref:r,index:l}))}),ke=a.forwardRef((t,n)=>{const{__scopeSlider:o,index:e,...i}=t,r=z(W,o),l=de(W,o),[c,u]=a.useState(null),$=V(n,h=>u(h)),S=xe(c),s=r.values[e],d=s===void 0?0:ue(s,r.min,r.max),w=Te(e,r.values.length),b=S==null?void 0:S[l.size],p=b?He(b,d,l.direction):0;return a.useEffect(()=>{if(c)return r.thumbs.add(c),()=>{r.thumbs.delete(c)}},[c,r.thumbs]),a.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${d}% + ${p}px)`}},a.createElement(L.ItemSlot,{scope:t.__scopeSlider},a.createElement(H.span,E({role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":r.min,"aria-valuenow":s,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0},i,{ref:$,style:s===void 0?{display:"none"}:t.style,onFocus:M(t.onFocus,()=>{r.valueIndexToChangeRef.current=e})}))))}),Be=t=>{const{value:n,...o}=t,e=a.useRef(null),i=ve(n);return a.useEffect(()=>{const r=e.current,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&u){const $=new Event("input",{bubbles:!0});u.call(r,n),r.dispatchEvent($)}},[i,n]),a.createElement("input",E({style:{display:"none"}},o,{ref:e,defaultValue:n}))};function Ne(t=[],n,o){const e=[...t];return e[o]=n,e.sort((i,r)=>i-r)}function ue(t,n,o){const r=100/(o-n)*(t-n);return re(r,[0,100])}function Te(t,n){return n>2?`Value ${t+1} of ${n}`:n===2?["Minimum","Maximum"][t]:void 0}function je(t,n){if(t.length===1)return 0;const o=t.map(i=>Math.abs(i-n)),e=Math.min(...o);return o.indexOf(e)}function He(t,n,o){const e=t/2,r=F([0,50],[0,e]);return(e-r(n)*o)*o}function ze(t){return t.slice(0,-1).map((n,o)=>t[o+1]-n)}function Oe(t,n){if(n>0){const o=ze(t);return Math.min(...o)>=n}return!0}function F(t,n){return o=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const e=(n[1]-n[0])/(t[1]-t[0]);return n[0]+e*(o-t[0])}}function Le(t){return(String(t).split(".")[1]||"").length}function Fe(t,n){const o=Math.pow(10,n);return Math.round(t*o)/o}const me=Re,Ue=Ke,Ye=Ie,J=Ae,Xe="_container_1b6wr_1",qe="_valueDisplay_1b6wr_10",Ge="_root_1b6wr_21",We="_track_1b6wr_30",Je="_range_1b6wr_38",Qe="_thumb_1b6wr_45",D={container:Xe,valueDisplay:qe,root:Ge,track:We,range:Je,thumb:Qe},k=a.forwardRef(({className:t="",max:n,onValueChange:o,value:e=[],...i},r)=>(a.useEffect(()=>{((e==null?void 0:e[1])===void 0||(e==null?void 0:e[1])===null)&&(o==null||o([(e==null?void 0:e[0])??0,n??0]))},[n,e,o]),y.jsxs("div",{className:D.container,children:[y.jsx("span",{className:D.valueDisplay,children:e==null?void 0:e[0]}),y.jsxs(me,{className:ye(D.root,t),max:n,onValueChange:o,ref:r,...i,value:[(e==null?void 0:e[0])??0,(e==null?void 0:e[1])??n??0],children:[y.jsx(Ue,{className:D.track,children:y.jsx(Ye,{className:D.range})}),y.jsx(J,{className:D.thumb}),y.jsx(J,{className:D.thumb})]}),y.jsx("span",{className:D.valueDisplay,children:e==null?void 0:e[1]})]})));k.displayName=me.displayName;try{k.displayName="Slider",k.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:"[]"},description:"",name:"value",required:!1,type:{name:"(number | null)[]"}}}}}catch{}const dt={component:k,parameters:{},tags:["autodocs"],title:"Components/Slider"},T={args:{value:[25,75]}},j=()=>{const[t,n]=a.useState([25,75]),o=e=>{n(e)};return y.jsx(k,{max:100,onValueChange:o,value:t})};var Q,Z,ee;T.parameters={...T.parameters,docs:{...(Q=T.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    value: [25, 75]
  }
}`,...(ee=(Z=T.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,ne,oe;j.parameters={...j.parameters,docs:{...(te=j.parameters)==null?void 0:te.docs,source:{originalSource:`() => {
  const [controlledValue, setControlledValue] = useState([25, 75]);
  const handleControlledChange = (newValue: [number, number]) => {
    setControlledValue(newValue);
  };
  return <Slider max={100} onValueChange={handleControlledChange} value={controlledValue} />;
}`,...(oe=(ne=j.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};const ft=["Default","ControlledSliderStory"];export{j as ControlledSliderStory,T as Default,ft as __namedExportsOrder,dt as default};
